{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Suraj\\\\Downloads\\\\calendarApp\\\\calendar-ui\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Calendar as BigCalendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"./App.css\";\nimport EventModal from \"./components/EventModal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addEvent } from \"./redux/eventSlice\";\nimport DeleteModal from \"./components/DeleteModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst localizer = momentLocalizer(moment);\nfunction App() {\n  _s();\n  const dispatch = useDispatch();\n  const events = useSelector(state => state.events.events);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [allEvents, setEvents] = useState([]);\n\n  // for delete model \n\n  const [selectedEvent, setSelectedEvent] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  // ✅ Fetch events from backend\n  useEffect(() => {\n    fetch(\"http://localhost:5000/events\").then(res => res.json()).then(data => setEvents(data)).catch(err => console.error(\"Failed to fetch events\", err));\n  }, []);\n\n  // ✅ Save new event to backend and Redux\n  const handleAddEvent = event => {\n    fetch(\"http://localhost:5000/events\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(event)\n    }).then(res => res.json()).then(data => {\n      dispatch(addEvent(data));\n      setEvents(prev => [...prev, data]);\n      setShowModal(false);\n    }).catch(err => console.error(\"Failed to save event\", err));\n  };\n\n  // ✅ Handle time slot selection\n  const handleSelectSlot = slotInfo => {\n    setSelectedSlot(slotInfo);\n    setShowModal(true);\n  };\n\n  // ✅ Handle event deletion\n  const handleEventSelect = event => {\n    setSelectedEvent(event);\n    setShowDeleteModal(true);\n    if (window.confirm(`Delete event: \"${event.title}\"?`)) {\n      fetch(`http://localhost:5000/events/${event._id}`, {\n        method: \"DELETE\"\n      }).then(res => res.json()).then(() => {\n        setEvents(prev => prev.filter(e => e._id !== event._id));\n      }).catch(err => console.error(\"Delete error:\", err));\n    }\n  };\n\n  // const handleEventSelect = (event) => {\n  //   setSelectedEvent(event);\n  //   setShowDeleteModal(true);\n  // };\n\n  // cnfrm dlt \n\n  const confirmDelete = () => {\n    fetch(`http://localhost:5000/events/${selectedEvent._id}`, {\n      method: \"DELETE\"\n    }).then(() => {\n      setEvents(prev => prev.filter(e => e._id !== selectedEvent._id));\n      setShowDeleteModal(false);\n      setSelectedEvent(null);\n    }).catch(err => console.error(\"Delete error:\", err));\n  };\n  {\n    showDeleteModal && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      eventTitle: selectedEvent === null || selectedEvent === void 0 ? void 0 : selectedEvent.title,\n      onCancel: () => setShowDeleteModal(false),\n      onConfirm: confirmDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this);\n  }\n\n  // ✅ Category-based colors\n  const eventStyleGetter = event => {\n    const categoryColors = {\n      exercise: \"#4CAF50\",\n      eating: \"#FF9800\",\n      work: \"#2196F3\",\n      relax: \"#9C27B0\",\n      family: \"#E91E63\",\n      social: \"#FF5722\"\n    };\n    return {\n      style: {\n        backgroundColor: categoryColors[event.category] || \"#607D8B\",\n        borderRadius: \"5px\",\n        color: \"white\",\n        padding: \"4px\"\n      }\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold text-center my-4\",\n      children: \"My Calendar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(BigCalendar, {\n      localizer: localizer,\n      events: allEvents,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      selectable: true,\n      style: {\n        height: 600\n      },\n      onSelectSlot: handleSelectSlot,\n      onSelectEvent: handleEventSelect,\n      eventPropGetter: eventStyleGetter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(EventModal, {\n      onClose: () => setShowModal(false),\n      onSave: handleAddEvent,\n      slotInfo: selectedSlot\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"1LPNehdYuAUvNUXTC0zDqO2hBCo=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","BigCalendar","momentLocalizer","moment","EventModal","useDispatch","useSelector","addEvent","DeleteModal","jsxDEV","_jsxDEV","localizer","App","_s","dispatch","events","state","showModal","setShowModal","selectedSlot","setSelectedSlot","allEvents","setEvents","selectedEvent","setSelectedEvent","showDeleteModal","setShowDeleteModal","fetch","then","res","json","data","catch","err","console","error","handleAddEvent","event","method","headers","body","JSON","stringify","prev","handleSelectSlot","slotInfo","handleEventSelect","window","confirm","title","_id","filter","e","confirmDelete","eventTitle","onCancel","onConfirm","fileName","_jsxFileName","lineNumber","columnNumber","eventStyleGetter","categoryColors","exercise","eating","work","relax","family","social","style","backgroundColor","category","borderRadius","color","padding","className","children","startAccessor","endAccessor","selectable","height","onSelectSlot","onSelectEvent","eventPropGetter","onClose","onSave","_c","$RefreshReg$"],"sources":["C:/Users/Suraj/Downloads/calendarApp/calendar-ui/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Calendar as BigCalendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport \"./App.css\";\n\nimport EventModal from \"./components/EventModal\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addEvent } from \"./redux/eventSlice\";\nimport DeleteModal from \"./components/DeleteModal\";\n\n\nconst localizer = momentLocalizer(moment);\n\nfunction App() {\n  const dispatch = useDispatch();\n  const events = useSelector((state) => state.events.events);\n\n  const [showModal, setShowModal] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [allEvents, setEvents] = useState([]);\n\n  // for delete model \n\n  const [selectedEvent, setSelectedEvent] = useState(null);\nconst [showDeleteModal, setShowDeleteModal] = useState(false);\n\n\n\n\n\n  // ✅ Fetch events from backend\n  useEffect(() => {\n    fetch(\"http://localhost:5000/events\")\n      .then((res) => res.json())\n      .then((data) => setEvents(data))\n      .catch((err) => console.error(\"Failed to fetch events\", err));\n  }, []);\n\n  // ✅ Save new event to backend and Redux\n  const handleAddEvent = (event) => {\n    fetch(\"http://localhost:5000/events\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(event),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        dispatch(addEvent(data));\n        setEvents((prev) => [...prev, data]);\n        setShowModal(false);\n      })\n      .catch((err) => console.error(\"Failed to save event\", err));\n  };\n\n  // ✅ Handle time slot selection\n  const handleSelectSlot = (slotInfo) => {\n    setSelectedSlot(slotInfo);\n    setShowModal(true);\n  };\n\n\n\n  // ✅ Handle event deletion\n  const handleEventSelect = (event) => {\n\n    setSelectedEvent(event);\n    setShowDeleteModal(true);\n    if (window.confirm(`Delete event: \"${event.title}\"?`)) {\n      fetch(`http://localhost:5000/events/${event._id}`, {\n        method: \"DELETE\",\n      })\n        .then((res) => res.json())\n        .then(() => {\n          setEvents((prev) => prev.filter((e) => e._id !== event._id));\n        })\n        .catch((err) => console.error(\"Delete error:\", err));\n    }\n  };\n\n\n  // const handleEventSelect = (event) => {\n  //   setSelectedEvent(event);\n  //   setShowDeleteModal(true);\n  // };\n\n\n\n\n  // cnfrm dlt \n\n\n  const confirmDelete = () => {\n    fetch(`http://localhost:5000/events/${selectedEvent._id}`, {\n      method: \"DELETE\",\n    })\n      .then(() => {\n        setEvents((prev) => prev.filter((e) => e._id !== selectedEvent._id));\n        setShowDeleteModal(false);\n        setSelectedEvent(null);\n      })\n      .catch((err) => console.error(\"Delete error:\", err));\n  };\n\n\n\n  {showDeleteModal && (\n    <DeleteModal\n      eventTitle={selectedEvent?.title}\n      onCancel={() => setShowDeleteModal(false)}\n      onConfirm={confirmDelete}\n    />\n  )}\n  \n\n  // ✅ Category-based colors\n  const eventStyleGetter = (event) => {\n    const categoryColors = {\n      exercise: \"#4CAF50\",\n      eating: \"#FF9800\",\n      work: \"#2196F3\",\n      relax: \"#9C27B0\",\n      family: \"#E91E63\",\n      social: \"#FF5722\",\n    };\n    return {\n      style: {\n        backgroundColor: categoryColors[event.category] || \"#607D8B\",\n        borderRadius: \"5px\",\n        color: \"white\",\n        padding: \"4px\",\n      },\n    };\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"text-2xl font-bold text-center my-4\">My Calendar</h1>\n      <BigCalendar\n        localizer={localizer}\n        events={allEvents}\n        startAccessor=\"start\"\n        endAccessor=\"end\"\n        selectable\n        style={{ height: 600 }}\n        onSelectSlot={handleSelectSlot}\n        onSelectEvent={handleEventSelect}\n        eventPropGetter={eventStyleGetter}\n      />\n      {showModal && (\n        <EventModal\n          onClose={() => setShowModal(false)}\n          onSave={handleAddEvent}\n          slotInfo={selectedSlot}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}